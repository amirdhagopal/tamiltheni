<!DOCTYPE html>
<html lang="ta">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TamilTheni - Theni 5 Mastery</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&family=Hind+Madurai:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --bg: #f8f9fa;
            --card-bg: #ffffff;
            --text: #2d3436;
            --accent: #ff7675;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Outfit', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            color: var(--text);
        }

        /* Control Panel */
        .control-panel {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .control-header {
            padding: 12px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .control-header h3 {
            margin: 0;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .control-content {
            max-height: 400px;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            padding: 0 30px 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .control-panel.collapsed .control-content {
            max-height: 0;
            padding: 0 30px;
        }

        .control-row {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .control-label {
            font-weight: 600;
            min-width: 100px;
            font-size: 0.9rem;
        }

        input[type="number"] {
            background: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 6px 12px;
            border-radius: 8px;
            width: 70px;
            font-family: inherit;
            outline: none;
        }

        .action-button {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 6px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.85rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .action-button:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        /* Slide UI */
        .slide-container {
            width: 90%;
            max-width: 800px;
            height: 600px;
            background: var(--card-bg);
            border-radius: 32px;
            box-shadow: var(--shadow);
            position: relative;
            display: flex;
            flex-direction: column;
            padding: 30px;
            box-sizing: border-box;
            margin-top: 60px;
        }

        .progress-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary) 0%, #00d2ff 100%);
            border-radius: 32px 32px 0 0;
            transition: width 0.6s cubic-bezier(0.22, 1, 0.36, 1);
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }

        .words-grid {
            display: flex;
            flex-direction: column;
            gap: 12px;
            flex-grow: 1;
            justify-content: center;
        }

        .word-item {
            display: flex;
            align-items: center;
            gap: 25px;
            padding: 15px 30px;
            background: #fdfdfd;
            border: 1px solid #f0f0f0;
            border-radius: 20px;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
        }

        .word-item:hover {
            background: #fff;
            transform: scale(1.02);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border-color: var(--primary);
        }


        .tamil-word {
            font-family: 'Hind Madurai', sans-serif;
            font-size: 2.2rem;
            color: var(--secondary);
            font-weight: 700;
            transition: var(--transition);
        }

        /* Navigation */
        .nav-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 25px;
            position: relative;
            width: 90%;
            max-width: 800px;
        }

        .nav-btn {
            background: var(--text);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-btn:hover:not(:disabled) {
            background: #000;
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }


        .status-badge {
            font-size: 1rem;
            font-weight: 700;
            color: var(--secondary);
            min-width: 80px;
            text-align: center;
            letter-spacing: 1px;
        }

        /* Filled Circular Timer UI */
        .circular-timer {
            position: fixed;
            left: calc(50% + 430px);
            top: 50%;
            transform: translateY(-50%);
            width: 270px;
            height: 270px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        @media (max-width: 1200px) {
            .circular-timer {
                left: auto;
                right: 20px;
            }
        }

        .timer-visual {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(var(--primary) 360deg, #f0f0f0 0);
            transition: background 0.3s ease;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.05), 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        .timer-content {
            position: relative;
            z-index: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.95);
            width: 210px;
            height: 210px;
            border-radius: 50%;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .timer-display {
            font-family: 'Outfit', sans-serif;
            font-weight: 700;
            font-size: 3rem;
            color: var(--secondary);
            line-height: 1;
        }

        .timer-btn {
            background: none;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-size: 2.5rem;
            padding: 0;
            margin-top: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .timer-btn:hover {
            color: var(--secondary);
            transform: scale(1.2);
        }

        .circular-timer.alarm .timer-visual {
            background: conic-gradient(var(--accent) 360deg, #fff5f5 0) !important;
            animation: pulse-fill 0.5s infinite alternate;
        }

        @keyframes pulse-fill {
            from {
                transform: scale(1);
            }

            to {
                transform: scale(1.1);
                box-shadow: 0 0 15px rgba(255, 118, 117, 0.4);
            }
        }

        @keyframes pulse-text {
            from {
                transform: scale(1);
            }

            to {
                transform: scale(1.1);
            }
        }
    </style>
</head>

<body>

    <div class="control-panel" id="controlPanel">
        <div class="control-header" onclick="document.getElementById('controlPanel').classList.toggle('collapsed')">
            <h3><span>‚öôÔ∏è</span> Theni 5 Study Controls</h3>
            <span>‚ñº</span>
        </div>
        <div class="control-content">
            <div class="control-row">
                <span class="control-label">Range:</span>
                <input type="number" id="startRange" value="1" min="1" max="250">
                <span>to</span>
                <input type="number" id="endRange" value="250" min="1" max="250">
                <button class="action-button" onclick="applyFilters()">Apply</button>
            </div>
            <div class="control-row">
                <span class="control-label">Actions:</span>
                <button class="action-button" onclick="shuffleWords()"><span>üîÄ</span> Shuffle</button>
                <button class="action-button" onclick="resetWords()"><span>‚Ü©Ô∏è</span> Reset</button>
            </div>
            <div class="control-row">
                <span class="control-label">Timer:</span>
                <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 0.9rem;">
                    <input type="checkbox" id="showTimer" onchange="toggleTimerVisibility()" checked> Show Timer
                </label>
            </div>
            <div class="control-row">
                <a href="index.html" class="action-button"
                    style="text-decoration: none; width: 100%; justify-content: center;">
                    <span>üè†</span> Back to Portal
                </a>
            </div>
        </div>
    </div>

    <div class="slide-container" id="slide-surface">
        <div class="progress-bar" id="progressBar" style="width: 0%"></div>

        <div class="words-grid" id="wordsGrid">
            <!-- Words will be injected here -->
        </div>
    </div>

    <div class="nav-controls">
        <button class="nav-btn" id="firstBtn" onclick="goToSlide(0)">‚èÆ</button>
        <button class="nav-btn" id="prevBtn" onclick="prevSlide()">‚óÄ</button>
        <div class="status-badge" id="slideIndicator">1 / 50</div>
        <button class="nav-btn" id="nextBtn" onclick="nextSlide()">‚ñ∂</button>
        <button class="nav-btn" id="lastBtn" onclick="goToSlide(totalPages - 1)">‚è≠</button>
    </div>

    <div class="circular-timer" id="timerPill" title="Study Timer (1 min)">
        <div class="timer-visual" id="timerPie"></div>
        <div class="timer-content">
            <span class="timer-display" id="timerDisplay">01:00</span>
            <button class="timer-btn" id="timerBtn" onclick="toggleTimer()">‚ñ∂</button>
        </div>
    </div>

    <script>
        const rawWords = [
            { s: 1, w: "‡Æá‡Æ§‡ÆØ‡ÆÆ‡Øç" },
            { s: 2, w: "‡Æâ‡Æ§‡Æü‡ØÅ" },
            { s: 3, w: "‡Æé‡Æ≤‡ØÅ‡ÆÆ‡Øç‡Æ™‡ØÅ" },
            { s: 4, w: "‡Æï‡Æ£‡Øç" },
            { s: 5, w: "‡Æï‡Æ¥‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ" },
            { s: 6, w: "‡Æï‡Æ©‡Øç‡Æ©‡ÆÆ‡Øç" },
            { s: 7, w: "‡Æï‡Ææ‡Æ§‡ØÅ" },
            { s: 8, w: "‡Æï‡ØÅ‡Æü‡Æ≤‡Øç" },
            { s: 9, w: "‡Æï‡ØÅ‡Æ∞‡ØÅ‡Æ§‡Æø" },
            { s: 10, w: "‡Æö‡Æø‡Æ±‡ØÅ‡Æ®‡ØÄ‡Æ∞‡Æï‡ÆÆ‡Øç" },
            { s: 11, w: "‡Æ§‡Æö‡Øà" },
            { s: 12, w: "‡Æ§‡Øã‡Æ≥‡Øç" },
            { s: 13, w: "‡Æ®‡Æ∞‡ÆÆ‡Øç‡Æ™‡ØÅ" },
            { s: 14, w: "‡Æ®‡Ææ‡Æï‡Øç‡Æï‡ØÅ" },
            { s: 15, w: "‡Æ®‡ØÅ‡Æ∞‡Øà‡ÆØ‡ØÄ‡Æ∞‡Æ≤‡Øç" },
            { s: 16, w: "‡Æ™‡Æ≤‡Øç" },
            { s: 17, w: "‡Æ™‡Ææ‡Æ§‡ÆÆ‡Øç" },
            { s: 18, w: "‡ÆÆ‡ØÅ‡Æï‡ÆÆ‡Øç" },
            { s: 19, w: "‡ÆÆ‡ØÅ‡Æü‡Æø" },
            { s: 20, w: "‡ÆÆ‡ØÅ‡Æ§‡ØÅ‡Æï‡ØÅ" },
            { s: 21, w: "‡ÆÆ‡ØÇ‡Æï‡Øç‡Æï‡ØÅ" },
            { s: 22, w: "‡ÆÆ‡ØÇ‡Æü‡Øç‡Æü‡ØÅ" },
            { s: 23, w: "‡ÆÆ‡ØÇ‡Æ≥‡Øà" },
            { s: 24, w: "‡Æµ‡ÆØ‡Æø‡Æ±‡ØÅ" },
            { s: 25, w: "‡Æµ‡Ææ‡ÆØ‡Øç" },
            { s: 26, w: "‡Æµ‡Æø‡Æ∞‡Æ≤‡Øç" },
            { s: 27, w: "‡ÆÖ‡ÆÆ‡Øà‡Æ§‡Æø" },
            { s: 28, w: "‡ÆÖ‡Æµ‡ÆÆ‡Ææ‡Æ©‡ÆÆ‡Øç" },
            { s: 29, w: "‡ÆÖ‡Æ±‡ÆÆ‡Øç" },
            { s: 30, w: "‡ÆÖ‡Æ©‡Øç‡Æ™‡ØÅ" },
            { s: 31, w: "‡ÆÜ‡Æö‡Øà" },
            { s: 32, w: "‡ÆÜ‡Æö‡Øç‡Æö‡Æ∞‡Æø‡ÆØ‡ÆÆ‡Øç" },
            { s: 33, w: "‡ÆÜ‡Æ∞‡Øç‡Æµ‡ÆÆ‡Øç" },
            { s: 34, w: "‡Æá‡Æ©‡Øç‡Æ™‡ÆÆ‡Øç" },
            { s: 35, w: "‡Æâ‡Æ£‡Øç‡ÆÆ‡Øà" },
            { s: 36, w: "‡Æâ‡Æ§‡Æµ‡Æø" },
            { s: 37, w: "‡Æä‡Æï‡Øç‡Æï‡ÆÆ‡Øç" },
            { s: 38, w: "‡Æí‡Æ¥‡ØÅ‡Æï‡Øç‡Æï‡ÆÆ‡Øç" },
            { s: 39, w: "‡Æï‡Æ∞‡ØÅ‡Æ£‡Øà" },
            { s: 40, w: "‡Æï‡Æµ‡Æ≤‡Øà" },
            { s: 41, w: "‡Æï‡Æ©‡Æµ‡ØÅ" },
            { s: 42, w: "‡Æï‡Øä‡Æü‡Øà" },
            { s: 43, w: "‡Æï‡Øã‡Æ™‡ÆÆ‡Øç" },
            { s: 44, w: "‡Æö‡Æµ‡Ææ‡Æ≤‡Øç" },
            { s: 45, w: "‡Æö‡Ææ‡Æ§‡Æ©‡Øà" },
            { s: 46, w: "‡Æö‡ØÅ‡Æ§‡Æ®‡Øç‡Æ§‡Æø‡Æ∞‡ÆÆ‡Øç" },
            { s: 47, w: "‡Æ§‡Æø‡Æ∞‡ØÅ‡Æü‡Øç‡Æü‡ØÅ" },
            { s: 48, w: "‡Æ§‡ØÅ‡Æ£‡Æø‡Æö‡Øç‡Æö‡Æ≤‡Øç" },
            { s: 49, w: "‡Æ§‡Øã‡Æ≤‡Øç‡Æµ‡Æø" },
            { s: 50, w: "‡Æ®‡ÆÆ‡Øç‡Æ™‡Æø‡Æï‡Øç‡Æï‡Øà" },
            { s: 51, w: "‡Æ®‡Ææ‡Æï‡Æ∞‡ØÄ‡Æï‡ÆÆ‡Øç" },
            { s: 52, w: "‡Æ®‡Æø‡Æ©‡Øà‡Æµ‡Ææ‡Æ±‡Øç‡Æ±‡Æ≤‡Øç" },
            { s: 53, w: "‡Æ™‡ÆØ‡ÆÆ‡Øç" },
            { s: 54, w: "‡Æ™‡Ææ‡Æ∞‡Ææ‡Æü‡Øç‡Æü‡ØÅ" },
            { s: 55, w: "‡Æ™‡ØÅ‡Æï‡Æ¥‡Øç" },
            { s: 56, w: "‡Æ™‡ØÜ‡Æ∞‡ØÅ‡ÆÆ‡Øà" },
            { s: 57, w: "‡Æ™‡Øä‡ÆØ‡Øç" },
            { s: 58, w: "‡Æ™‡Øä‡Æ±‡ØÅ‡ÆÆ‡Øà" },
            { s: 59, w: "‡ÆÆ‡Æï‡Æø‡Æ¥‡Øç‡Æö‡Øç‡Æö‡Æø" },
            { s: 60, w: "‡ÆÆ‡Æ∞‡Æø‡ÆØ‡Ææ‡Æ§‡Øà" },
            { s: 61, w: "‡ÆÆ‡ØÅ‡ÆØ‡Æ±‡Øç‡Æö‡Æø" },
            { s: 62, w: "‡Æµ‡ØÜ‡Æ±‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ" },
            { s: 63, w: "‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø" },
            { s: 64, w: "‡ÆÖ‡Æ±‡Æø‡Æµ‡Æø‡ÆØ‡Æ≤‡Øç" },
            { s: 65, w: "‡ÆÖ‡Æ±‡Æø‡Æµ‡ØÅ" },
            { s: 66, w: "‡Æá‡Æö‡Øà" },
            { s: 67, w: "‡Æì‡Æµ‡Æø‡ÆØ‡ÆÆ‡Øç" },
            { s: 68, w: "‡Æï‡Æü‡Øç‡Æü‡ØÅ‡Æ∞‡Øà" },
            { s: 69, w: "‡Æï‡Æ£‡Æø‡Æ§‡ÆÆ‡Øç" },
            { s: 70, w: "‡Æï‡Æ≤‡Øç‡Æ≤‡ØÇ‡Æ∞‡Æø" },
            { s: 71, w: "‡Æï‡Æ≤‡Øç‡Æµ‡Æø" },
            { s: 72, w: "‡Æï‡Æµ‡Æø‡Æ§‡Øà" },
            { s: 73, w: "‡Æö‡Æø‡Æ±‡Øç‡Æ™‡ÆÆ‡Øç" },
            { s: 74, w: "‡Æ®‡Æü‡Æ©‡ÆÆ‡Øç" },
            { s: 75, w: "‡Æ®‡Ææ‡Æü‡Æï‡ÆÆ‡Øç" },
            { s: 76, w: "‡Æ®‡ØÇ‡Æ≤‡Øç" },
            { s: 77, w: "‡Æ®‡ØÇ‡Æ≤‡Æï‡ÆÆ‡Øç" },
            { s: 78, w: "‡Æ™‡Æ£‡Øç‡Æ™‡Ææ‡Æü‡ØÅ" },
            { s: 79, w: "‡Æ™‡ÆØ‡Æø‡Æ±‡Øç‡Æö‡Æø" },
            { s: 80, w: "‡Æ™‡Æ∞‡Æø‡Æö‡ØÅ" },
            { s: 81, w: "‡Æ™‡Æ≥‡Øç‡Æ≥‡Æø" },
            { s: 82, w: "‡Æµ‡Æ∞‡Æ≤‡Ææ‡Æ±‡ØÅ" },
            { s: 83, w: "‡Æµ‡Ææ‡Æ©‡Æø‡ÆØ‡Æ≤‡Øç" },
            { s: 84, w: "‡Æµ‡Æø‡Æ≥‡Øà‡ÆØ‡Ææ‡Æü‡Øç‡Æü‡ØÅ" },
            { s: 85, w: "‡ÆÖ‡Æô‡Øç‡Æï‡Ææ‡Æü‡Æø" },
            { s: 86, w: "‡Æ™‡ØÇ‡ÆÆ‡Æø" },
            { s: 87, w: "‡Æâ‡Æ≤‡Æï‡ÆÆ‡Øç" },
            { s: 88, w: "‡Æ™‡ØÇ‡Æï‡Øã‡Æ≥‡ÆÆ‡Øç" },
            { s: 89, w: "‡Æï‡Æø‡Æ∞‡Ææ‡ÆÆ‡ÆÆ‡Øç" },
            { s: 90, w: "‡Æö‡Æ®‡Øç‡Æ§‡Øà" },
            { s: 91, w: "‡Æö‡Øã‡Æ≤‡Øà" },
            { s: 92, w: "‡Æ§‡Æø‡Æ∞‡ØÅ‡Æµ‡Æø‡Æ¥‡Ææ" },
            { s: 93, w: "‡Æ®‡Æï‡Æ∞‡ÆÆ‡Øç" },
            { s: 94, w: "‡Æ®‡Ææ‡Æü‡ØÅ" },
            { s: 95, w: "‡Æ®‡ØÜ‡Æü‡ØÅ‡Æû‡Øç‡Æö‡Ææ‡Æ≤‡Øà" },
            { s: 96, w: "‡Æ™‡ÆØ‡Æ£‡ÆÆ‡Øç" },
            { s: 97, w: "‡ÆÆ‡Æ§‡Æø‡Æ≤‡Øç" },
            { s: 98, w: "‡ÆÆ‡Ææ‡Æü‡Æø" },
            { s: 99, w: "‡ÆÆ‡ØÅ‡Æ±‡Øç‡Æ±‡ÆÆ‡Øç" },
            { s: 100, w: "‡Æ§‡Æø‡Æ£‡Øç‡Æ£‡Øà" },
            { s: 101, w: "‡Æµ‡Ææ‡Æö‡Æ≤‡Øç" },
            { s: 102, w: "‡ÆÖ‡Æü‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ" },
            { s: 103, w: "‡ÆÖ‡ÆÆ‡Øç‡ÆÆ‡Æø" },
            { s: 104, w: "‡ÆÖ‡Æ≤‡Øà‡Æ™‡Øá‡Æö‡Æø" },
            { s: 105, w: "‡ÆÖ‡Æ¥‡Æø‡Æ™‡Øç‡Æ™‡Ææ‡Æ©‡Øç" },
            { s: 106, w: "‡ÆÜ‡Æ£‡Æø" },
            { s: 107, w: "‡Æâ‡Æ∞‡Æ≤‡Øç" },
            { s: 108, w: "‡Æâ‡Æ≤‡Æï‡Øç‡Æï‡Øà" },
            { s: 109, w: "‡Æä‡Æö‡Æø" },
            { s: 110, w: "‡Æä‡Æû‡Øç‡Æö‡Æ≤‡Øç" },
            { s: 111, w: "‡Æé‡Æ¥‡ØÅ‡Æ§‡ØÅ‡Æï‡Øã‡Æ≤‡Øç" },
            { s: 112, w: "‡Æè‡Æ£‡Æø" },
            { s: 113, w: "‡Æï‡Æ£‡Æø‡Æ©‡Æø" },
            { s: 114, w: "‡Æï‡Æ£‡Øç‡Æ£‡Ææ‡Æü‡Æø" },
            { s: 115, w: "‡Æï‡Æ§‡Øç‡Æ§‡Æ∞‡Æø‡Æï‡Øç‡Æï‡Øã‡Æ≤‡Øç" },
            { s: 116, w: "‡Æï‡Æ∞‡Æø‡Æï‡Øç‡Æï‡Øã‡Æ≤‡Øç" },
            { s: 117, w: "‡Æï‡ÆØ‡Æø‡Æ±‡ØÅ" },
            { s: 118, w: "‡Æï‡ØÅ‡Æü‡ÆÆ‡Øç" },
            { s: 119, w: "‡Æï‡ØÅ‡Æü‡Øà" },
            { s: 120, w: "‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡Øà" },
            { s: 121, w: "‡Æ§‡ØÅ‡Æü‡Øà‡Æ™‡Øç‡Æ™‡ÆÆ‡Øç" },
            { s: 122, w: "‡Æï‡ØÇ‡Æ∞‡Øà" },
            { s: 123, w: "‡Æö‡Æô‡Øç‡Æï‡Æø‡Æ≤‡Æø" },
            { s: 124, w: "‡Æö‡Æ©‡Øç‡Æ©‡Æ≤‡Øç" },
            { s: 125, w: "‡Æ™‡ØÜ‡Æü‡Øç‡Æü‡Æø" },
            { s: 126, w: "‡Æ™‡ØÇ‡Æü‡Øç‡Æü‡ØÅ" },
            { s: 127, w: "‡Æö‡Ææ‡Æµ‡Æø" },
            { s: 128, w: "‡Æ§‡Ææ‡Æ¥‡Øç‡Æ™‡Øç‡Æ™‡Ææ‡Æ≥‡Øç" },
            { s: 129, w: "‡Æö‡ØÄ‡Æ™‡Øç‡Æ™‡ØÅ" },
            { s: 130, w: "‡Æö‡ØÅ‡Æ§‡Øç‡Æ§‡Æø" },
            { s: 131, w: "‡Æ§‡Øä‡Æ≤‡Øà‡Æï‡Ææ‡Æü‡Øç‡Æö‡Æø" },
            { s: 132, w: "‡Æµ‡Ææ‡Æ©‡Øä‡Æ≤‡Æø" },
            { s: 133, w: "‡Æ®‡Ææ‡Æ≥‡Øç‡Æï‡Ææ‡Æü‡Øç‡Æü‡Æø" },
            { s: 134, w: "‡Æ™‡Øà" },
            { s: 135, w: "‡Æ™‡Æ£‡Æ™‡Øç‡Æ™‡Øà" },
            { s: 136, w: "‡Æ™‡Ææ‡Æ©‡Øà" },
            { s: 137, w: "‡ÆÆ‡Æü‡Æø‡Æï‡Øç‡Æï‡Æ£‡Æø‡Æ©‡Æø" },
            { s: 138, w: "‡ÆÆ‡Æø‡Æ§‡Æø‡Æµ‡Æ£‡Øç‡Æü‡Æø" },
            { s: 139, w: "‡ÆÆ‡Æø‡Æ©‡Øç‡Æö‡Ææ‡Æ∞‡ÆÆ‡Øç" },
            { s: 140, w: "‡ÆÆ‡Æø‡Æ©‡Øç" },
            { s: 141, w: "‡ÆÆ‡ØÜ‡Æ¥‡ØÅ‡Æï‡ØÅ‡Æµ‡Æ∞‡Øç‡Æ§‡Øç‡Æ§‡Æø" },
            { s: 142, w: "‡ÆÆ‡Øá‡Æö‡Øà" },
            { s: 143, w: "‡ÆÆ‡Øã‡Æ§‡Æø‡Æ∞‡ÆÆ‡Øç" },
            { s: 144, w: "‡Æµ‡Æ∞‡Øà‡Æ™‡Æü‡ÆÆ‡Øç" },
            { s: 145, w: "‡Æµ‡Æ≥‡Øà‡ÆØ‡Æ≤‡Øç" },
            { s: 146, w: "‡Æµ‡Ææ‡Æ≥‡Æø" },
            { s: 147, w: "‡Æµ‡Æø‡Æ≥‡Æï‡Øç‡Æï‡ØÅ" },
            { s: 148, w: "‡ÆÖ‡ÆÆ‡Ææ‡Æµ‡Ææ‡Æö‡Øà" },
            { s: 149, w: "‡Æ™‡Øå‡Æ∞‡Øç‡Æ£‡ÆÆ‡Æø" },
            { s: 150, w: "‡ÆÖ‡Æ∞‡ØÅ‡Æµ‡Æø" },
            { s: 151, w: "‡ÆÖ‡Æ≤‡Øà" },
            { s: 152, w: "‡ÆÜ‡Æï‡Ææ‡ÆØ‡ÆÆ‡Øç" },
            { s: 153, w: "‡ÆÆ‡Æ∞‡ÆÆ‡Øç" },
            { s: 154, w: "‡ÆÜ‡Æ≤‡ÆÆ‡Æ∞‡ÆÆ‡Øç" },
            { s: 155, w: "‡Æµ‡Øá‡ÆÆ‡Øç‡Æ™‡ØÅ" },
            { s: 156, w: "‡Æá‡Æ≤‡Øà" },
            { s: 157, w: "‡ÆÜ‡Æ¥‡Æø" },
            { s: 158, w: "‡Æá‡Æ∞‡ØÅ‡Æü‡Øç‡Æü‡ØÅ" },
            { s: 159, w: "‡Æµ‡ØÜ‡Æ≥‡Æø‡Æö‡Øç‡Æö‡ÆÆ‡Øç" },
            { s: 160, w: "‡Æì‡Æü‡Øà" },
            { s: 161, w: "‡Æï‡Æ©‡Æø" },
            { s: 162, w: "‡Æï‡Ææ‡Æü‡ØÅ" },
            { s: 163, w: "‡Æï‡ØÅ‡Æï‡Øà" },
            { s: 164, w: "‡Æï‡ØÅ‡Æ≥‡ÆÆ‡Øç" },
            { s: 165, w: "‡Æö‡ØÅ‡Æ©‡Øà" },
            { s: 166, w: "‡Æö‡ØÇ‡Æ¥‡Æ≤‡Øç" },
            { s: 167, w: "‡Æö‡ØÜ‡Æü‡Æø" },
            { s: 168, w: "‡Æµ‡Øá‡Æ∞‡Øç" },
            { s: 169, w: "‡Æ§‡Æô‡Øç‡Æï‡ÆÆ‡Øç" },
            { s: 170, w: "‡Æµ‡ØÜ‡Æ≥‡Øç‡Æ≥‡Æø" },
            { s: 171, w: "‡Æµ‡Øà‡Æ∞‡ÆÆ‡Øç" },
            { s: 172, w: "‡Æ™‡Æµ‡Æ≥‡ÆÆ‡Øç" },
            { s: 173, w: "‡ÆÆ‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ" },
            { s: 174, w: "‡Æ™‡ØÇ" },
            { s: 175, w: "‡ÆÆ‡Øä‡Æü‡Øç‡Æü‡ØÅ" },
            { s: 176, w: "‡Æ§‡Ææ‡ÆÆ‡Æ∞‡Øà" },
            { s: 177, w: "‡ÆÆ‡Æ≤‡Øç‡Æ≤‡Æø‡Æï‡Øà" },
            { s: 178, w: "‡Æ∞‡Øã‡Æö‡Ææ" },
            { s: 179, w: "‡Æ§‡ØÜ‡Æ©‡Øç‡Æ±‡Æ≤‡Øç" },
            { s: 180, w: "‡Æ®‡Æø‡Æ¥‡Æ≤‡Øç" },
            { s: 181, w: "‡Æ®‡ØÄ‡Æ≤‡ÆÆ‡Øç" },
            { s: 182, w: "‡Æ®‡ØÜ‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ" },
            { s: 183, w: "‡Æ™‡Æ≥‡Øç‡Æ≥‡Æ§‡Øç‡Æ§‡Ææ‡Æï‡Øç‡Æï‡ØÅ" },
            { s: 184, w: "‡Æ™‡Æ©‡Æø" },
            { s: 185, w: "‡Æµ‡Æ±‡Æü‡Øç‡Æö‡Æø" },
            { s: 186, w: "‡Æ™‡Ææ‡Æ≤‡Øà‡Æµ‡Æ©‡ÆÆ‡Øç" },
            { s: 187, w: "‡ÆÆ‡Æ£‡Æ≤‡Øç" },
            { s: 188, w: "‡ÆÆ‡Æ£‡Øç" },
            { s: 189, w: "‡Æ™‡Ææ‡Æ±‡Øà" },
            { s: 190, w: "‡Æ™‡ØÅ‡ÆØ‡Æ≤‡Øç" },
            { s: 191, w: "‡ÆÆ‡Æø‡Æ©‡Øç‡Æ©‡Æ≤‡Øç" },
            { s: 192, w: "‡ÆÆ‡Øá‡Æï‡ÆÆ‡Øç" },
            { s: 193, w: "‡Æµ‡Ææ‡Æ©‡Æµ‡Æø‡Æ≤‡Øç" },
            { s: 194, w: "‡Æµ‡Æø‡Æü‡Æø‡ÆØ‡Æ≤‡Øç" },
            { s: 195, w: "‡Æµ‡Æø‡Æ£‡Øç‡ÆÆ‡ØÄ‡Æ©‡Øç" },
            { s: 196, w: "‡ÆÖ‡Æ©‡Øç‡Æ©‡Øà" },
            { s: 197, w: "‡Æ§‡Æ®‡Øç‡Æ§‡Øà" },
            { s: 198, w: "‡ÆÆ‡Æï‡Æ≥‡Øç" },
            { s: 199, w: "‡ÆÆ‡Æï‡Æ©‡Øç" },
            { s: 200, w: "‡Æ§‡Æô‡Øç‡Æï‡Øà" },
            { s: 201, w: "‡ÆÖ‡Æï‡Øç‡Æï‡Ææ" },
            { s: 202, w: "‡ÆÖ‡Æ£‡Øç‡Æ£‡Æ©‡Øç" },
            { s: 203, w: "‡Æ§‡ÆÆ‡Øç‡Æ™‡Æø" },
            { s: 204, w: "‡ÆÆ‡Æ∞‡ØÅ‡ÆÆ‡Æï‡Æ≥‡Øç" },
            { s: 205, w: "‡ÆÆ‡Æ∞‡ØÅ‡ÆÆ‡Æï‡Æ©‡Øç" },
            { s: 206, w: "‡ÆÆ‡Ææ‡ÆÆ‡Æ©‡Ææ‡Æ∞‡Øç" },
            { s: 207, w: "‡ÆÆ‡Ææ‡ÆÆ‡Æø‡ÆØ‡Ææ‡Æ∞‡Øç" },
            { s: 208, w: "‡Æ§‡Ææ‡Æ§‡Øç‡Æ§‡Ææ" },
            { s: 209, w: "‡Æ™‡Ææ‡Æü‡Øç‡Æü‡Æø" },
            { s: 210, w: "‡Æï‡ØÅ‡Æ¥‡Æ®‡Øç‡Æ§‡Øà" },
            { s: 211, w: "‡Æ™‡Øá‡Æ∞‡Æï‡Øç‡Æï‡ØÅ‡Æ¥‡Æ®‡Øç‡Æ§‡Øà" },
            { s: 212, w: "‡Æá‡Æ≥‡Øà‡Æû‡Æ©‡Øç" },
            { s: 213, w: "‡ÆÆ‡ØÅ‡Æ§‡Æø‡ÆØ‡Æµ‡Æ∞‡Øç" },
            { s: 214, w: "‡Æ®‡Æ£‡Øç‡Æ™‡Æ©‡Øç" },
            { s: 215, w: "‡Æâ‡Æ±‡Æµ‡Æø‡Æ©‡Æ∞‡Øç" },
            { s: 216, w: "‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡Æø‡Æ©‡Æ∞‡Øç" },
            { s: 217, w: "‡ÆÖ‡Æ∞‡Æö‡Æ©‡Øç" },
            { s: 218, w: "‡ÆÖ‡Æ∞‡Æö‡Æø" },
            { s: 219, w: "‡ÆÆ‡Æ®‡Øç‡Æ§‡Æø‡Æ∞‡Æø" },
            { s: 220, w: "‡Æ™‡ØÅ‡Æ≤‡Æµ‡Æ∞‡Øç" },
            { s: 221, w: "‡Æµ‡ØÄ‡Æ∞‡Æ©‡Øç" },
            { s: 222, w: "‡ÆÜ‡Æö‡Æø‡Æ∞‡Æø‡ÆØ‡Æ∞‡Øç" },
            { s: 223, w: "‡ÆÆ‡Ææ‡Æ£‡Æµ‡Æ©‡Øç" },
            { s: 224, w: "‡Æì‡Æü‡Øç‡Æü‡ØÅ‡Æ®‡Æ∞‡Øç" },
            { s: 225, w: "‡Æ§‡Æö‡Øç‡Æö‡Æ∞‡Øç" },
            { s: 226, w: "‡Æµ‡Æø‡Æµ‡Æö‡Ææ‡ÆØ‡Æø" },
            { s: 227, w: "‡Æï‡Ææ‡Æµ‡Æ≤‡Æ∞‡Øç" },
            { s: 228, w: "‡ÆÆ‡Æ∞‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æµ‡Æ∞‡Øç" },
            { s: 229, w: "‡Æö‡ØÜ‡Æµ‡Æø‡Æ≤‡Æø‡ÆØ‡Æ∞‡Øç" },
            { s: 230, w: "‡Æï‡ØÇ‡Æü‡Øç‡Æü‡ÆÆ‡Øç" },
            { s: 231, w: "‡Æâ‡Æ™‡Øç‡Æ™‡ØÅ" },
            { s: 232, w: "‡ÆÆ‡Æø‡Æ≥‡Æï‡Ææ‡ÆØ‡Øç" },
            { s: 233, w: "‡Æé‡Æ£‡Øç‡Æ£‡ØÜ‡ÆØ‡Øç" },
            { s: 234, w: "‡Æö‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æ∞‡Øà" },
            { s: 235, w: "‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ" },
            { s: 236, w: "‡ÆÆ‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ" },
            { s: 237, w: "‡ÆÆ‡Ææ‡Æ§‡Øç‡Æ§‡Æø‡Æ∞‡Øà" },
            { s: 238, w: "‡Æö‡Æü‡Øç‡Æü‡Øà" },
            { s: 239, w: "‡Æµ‡Øá‡Æü‡Øç‡Æü‡Æø" },
            { s: 240, w: "‡Æö‡Øá‡Æ≤‡Øà" },
            { s: 241, w: "‡Æ§‡ØÅ‡Æ£‡Æø" },
            { s: 242, w: "‡Æ§‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ" },
            { s: 243, w: "‡Æ™‡Øã‡Æ∞‡Øç‡Æµ‡Øà" },
            { s: 244, w: "‡ÆÆ‡ØÜ‡Æ§‡Øç‡Æ§‡Øà" },
            { s: 245, w: "‡Æ™‡Æø‡Æ∞‡Æ§‡ÆÆ‡Æ∞‡Øç" },
            { s: 246, w: "‡Æö‡Æü‡Øç‡Æü‡ÆÆ‡Øç" },
            { s: 247, w: "‡Æ®‡ØÄ‡Æ§‡Æø" },
            { s: 248, w: "‡ÆÜ‡Æ£‡Øç‡Æü‡ØÅ" },
            { s: 249, w: "‡ÆÆ‡Ææ‡Æ§‡ÆÆ‡Øç" },
            { s: 250, w: "‡Æï‡Ææ‡Æ≤‡ÆÆ‡Øç" }
        ];

        let activeWords = [...rawWords];
        let currentSlide = 0;
        let totalPages = 50;

        // Timer Variables
        let timeLeft = 60;
        let timerId = null;
        let audioCtx = null;
        let timerJustRestarted = false;
        let restartTimeoutId = null;

        function init() {
            updateSlideRange();
            renderSlide();

            // Timer visibility is handled by renderSlide() which calls restartTimer()

            // Event Listeners
            document.addEventListener('keydown', (e) => {
                if (e.target.tagName === 'INPUT') return;
                if (e.key === 'ArrowLeft') prevSlide();
                if (e.key === 'ArrowRight' || e.key === ' ' || e.key === 'Enter') nextSlide();
                if (e.key === 'Home') goToSlide(0);
                if (e.key === 'End') goToSlide(totalPages - 1);
            });

            document.addEventListener('click', (e) => {
                const panel = document.getElementById('controlPanel');
                const isClickInsidePanel = panel.contains(e.target);
                const isActionBtn = e.target.closest('button') || e.target.closest('input') || e.target.closest('a');

                if (isActionBtn) return;

                const wasCollapsed = panel.classList.contains('collapsed');

                if (!isClickInsidePanel) {
                    panel.classList.add('collapsed');
                }

                // Interaction for slide advancement
                if (e.target.closest('#slide-surface')) {
                    if (wasCollapsed) {
                        nextSlide();
                    } else {
                        // Just collapse, don't advance
                        panel.classList.add('collapsed');
                    }
                }
            });
        }

        function updateSlideRange() {
            const start = parseInt(document.getElementById('startRange').value) || 1;
            const end = parseInt(document.getElementById('endRange').value) || 250;

            activeWords = rawWords.filter(w => w.s >= start && w.s <= end);
            totalPages = Math.ceil(activeWords.length / 5);
            currentSlide = 0;
            renderSlide();
        }

        function renderSlide() {
            const grid = document.getElementById('wordsGrid');
            grid.innerHTML = '';

            const startIdx = currentSlide * 5;
            const slideWords = activeWords.slice(startIdx, startIdx + 5);

            if (slideWords.length === 0 && activeWords.length > 0) {
                currentSlide = 0;
                return renderSlide();
            }

            slideWords.forEach((item, i) => {
                const div = document.createElement('div');
                div.className = 'word-item';
                div.id = `word-${i}`;
                div.innerHTML = `
                    <div class="tamil-word">${item.w}</div>
                `;
                grid.appendChild(div);
            });

            updateUI();

            // Restart timer on new slide if enabled
            if (document.getElementById('showTimer').checked) {
                restartTimer();
            }
        }


        function nextSlide() {
            if (currentSlide < totalPages - 1) {
                currentSlide++;
                renderSlide();
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                renderSlide();
            }
        }

        function goToSlide(idx) {
            currentSlide = Math.max(0, Math.min(idx, totalPages - 1));
            renderSlide();
        }

        function updateUI() {
            document.getElementById('slideIndicator').innerText = `${currentSlide + 1} / ${totalPages || 1}`;
            document.getElementById('progressBar').style.width = `${((currentSlide + 1) / totalPages) * 100}%`;

            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = (currentSlide === totalPages - 1);
            document.getElementById('firstBtn').disabled = currentSlide === 0;
            document.getElementById('lastBtn').disabled = currentSlide === totalPages - 1;
        }

        function shuffleWords() {
            for (let i = activeWords.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [activeWords[i], activeWords[j]] = [activeWords[j], activeWords[i]];
            }
            currentSlide = 0;
            renderSlide();
        }

        function resetWords() {
            const start = parseInt(document.getElementById('startRange').value) || 1;
            const end = parseInt(document.getElementById('endRange').value) || 250;
            activeWords = rawWords.filter(w => w.s >= start && w.s <= end);
            currentSlide = 0;
            renderSlide();
        }

        // Timer Logic
        function toggleTimer() {
            const btn = document.getElementById('timerBtn');
            const pill = document.getElementById('timerPill');

            if (timerId) {
                // Pause
                clearInterval(timerId);
                timerId = null;
                btn.innerText = '‚ñ∂';
                pill.classList.remove('alarm');
            } else {
                // Start
                if (timeLeft <= 0) resetTimer();
                timerId = setInterval(tick, 1000);
                btn.innerText = '‚è∏';
            }
        }

        function resetTimer() {
            clearInterval(timerId);
            timerId = null;
            timeLeft = 60;
            updateTimerDisplay();
            document.getElementById('timerBtn').innerText = '‚ñ∂';
            document.getElementById('timerBtn').onclick = toggleTimer; // Restore original onclick
            document.getElementById('timerPill').classList.remove('alarm');
        }

        function restartTimer() {
            // Cancel any previous restart timeout
            if (restartTimeoutId) {
                clearTimeout(restartTimeoutId);
            }
            timerJustRestarted = true;
            resetTimer();
            toggleTimer();
            // Clear the flag after 2 seconds to allow tick sounds
            restartTimeoutId = setTimeout(() => {
                timerJustRestarted = false;
                restartTimeoutId = null;
            }, 2000);
        }

        function tick() {
            if (timeLeft > 0) {
                timeLeft--;
                updateTimerDisplay();

                // Play tick sound for last 5 seconds only (not during restart)
                if (timeLeft > 0 && timeLeft <= 5 && !timerJustRestarted) {
                    playTickSound();
                }

                if (timeLeft === 0) {
                    triggerAlarm();
                }
            }
        }

        function playTickSound() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();

            // Create a clock-like tick using filtered noise
            const bufferSize = audioCtx.sampleRate * 0.03; // 30ms
            const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
            const data = buffer.getChannelData(0);

            // Generate noise burst
            for (let i = 0; i < bufferSize; i++) {
                data[i] = (Math.random() * 2 - 1) * Math.exp(-i / (bufferSize * 0.1));
            }

            const noise = audioCtx.createBufferSource();
            noise.buffer = buffer;

            // Bandpass filter for clock-like character
            const filter = audioCtx.createBiquadFilter();
            filter.type = 'bandpass';
            filter.frequency.value = 3000;
            filter.Q.value = 2;

            const gain = audioCtx.createGain();
            gain.gain.setValueAtTime(0.4, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.03);

            noise.connect(filter);
            filter.connect(gain);
            gain.connect(audioCtx.destination);

            noise.start();
        }

        function updateTimerDisplay() {
            const mins = Math.floor(timeLeft / 60);
            const secs = timeLeft % 60;
            document.getElementById('timerDisplay').innerText =
                `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;

            // Update filled circular progress (conic gradient)
            const angle = (timeLeft / 60) * 360;
            document.getElementById('timerPie').style.background =
                `conic-gradient(var(--primary) ${angle}deg, #f0f0f0 0)`;
        }

        function toggleTimerVisibility() {
            const isVisible = document.getElementById('showTimer').checked;
            const pill = document.getElementById('timerPill');
            pill.style.display = isVisible ? 'flex' : 'none';

            if (isVisible) {
                restartTimer();
            } else {
                resetTimer();
            }
        }

        function triggerAlarm() {
            clearInterval(timerId);
            timerId = null;
            document.getElementById('timerBtn').innerText = '‚Ü∫';
            document.getElementById('timerBtn').onclick = resetTimer;
            document.getElementById('timerPill').classList.add('alarm');
            playAlarmSound();
        }

        function playAlarmSound() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();

            // Pleasant chime with 3 ascending notes
            const notes = [523.25, 659.25, 783.99]; // C5, E5, G5 (major chord)
            const noteDelay = 0.15;
            const noteDuration = 0.6;

            notes.forEach((freq, i) => {
                const startTime = audioCtx.currentTime + (i * noteDelay);

                // Main tone
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();

                osc.type = 'sine';
                osc.frequency.setValueAtTime(freq, startTime);

                // Soft attack and decay
                gain.gain.setValueAtTime(0, startTime);
                gain.gain.linearRampToValueAtTime(0.15, startTime + 0.05);
                gain.gain.exponentialRampToValueAtTime(0.01, startTime + noteDuration);

                osc.connect(gain);
                gain.connect(audioCtx.destination);

                osc.start(startTime);
                osc.stop(startTime + noteDuration);

                // Add a subtle harmonic for richness
                const osc2 = audioCtx.createOscillator();
                const gain2 = audioCtx.createGain();

                osc2.type = 'sine';
                osc2.frequency.setValueAtTime(freq * 2, startTime); // Octave above

                gain2.gain.setValueAtTime(0, startTime);
                gain2.gain.linearRampToValueAtTime(0.03, startTime + 0.05);
                gain2.gain.exponentialRampToValueAtTime(0.001, startTime + noteDuration);

                osc2.connect(gain2);
                gain2.connect(audioCtx.destination);

                osc2.start(startTime);
                osc2.stop(startTime + noteDuration);
            });
        }

        function applyFilters() {
            updateSlideRange();
        }


        init();
    </script>
</body>

</html>